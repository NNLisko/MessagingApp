<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MessageLisko.MainPage">

    <Grid RowDefinitions="*, Auto, Auto" Padding="0">

		<CollectionView
			Grid.Row="0"
            x:Name="MessagesView"
            ItemsSource="{Binding Messages}"
            VerticalOptions="FillAndExpand"
            ItemsUpdatingScrollMode="KeepLastItemInView"
			WidthRequest="700">
			

			<CollectionView.ItemTemplate>
				<DataTemplate>
					<Label Text="{Binding .}"
						    TextColor="White"
						    FontSize="14"
						    Margin="5"/>
				</DataTemplate>
			</CollectionView.ItemTemplate>
		</CollectionView>
		
		
        <Entry
            Grid.Row="1"
            x:Name="Message"
            Placeholder="Say something"
            Completed="OnEntryCompleted"
            MaxLength="100"
            Margin="10"
            WidthRequest="700"
			HeightRequest="30"
			VerticalOptions="End"/>

		<Grid Grid.Row="2"
              BackgroundColor="Black"
              HeightRequest="32"
              Padding="10,0"
              ColumnDefinitions="*, Auto, Auto">

			<!-- Left area -->
			<Label Text="{Binding ConnectionStatusText}"
                   TextColor="White"
                   VerticalOptions="Center"
                   FontSize="14"/>

			<!-- Middle (expandable spacer) -->
			<BoxView Grid.Column="1"/>

			<!-- Right side example placeholder -->
			<Label Grid.Column="2"
                   Text="00:00"
                   TextColor="White"
                   VerticalOptions="Center"
                   FontSize="14"/>

			<Label
                Text="{Binding UserName}"
                VerticalOptions="Center"
                HorizontalOptions="Center"
                />
		</Grid>
    </Grid>

</ContentPage>
